<!DOCTYPE html>
<html lang="en">
<!--Generated at 2024-04-29 12:54:31-->

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../bulma.min.css">
    <script src="../ConectorJavaScript.js" type="text/javascript"></script>
    <meta name="description" content="ESC POS plugin for thermal printer. Print text, images, qr codes and design tickets">
    <meta name="keywords" content="thermal printer, esc pos, image, receipt, ticket, plugin, free">
    <title>Open cash drawer - Free ESC POS plugin for thermal printers</title>
    </head>

<body>
    <nav class="navbar" role="navigation" aria-label="main navigation">
        <div class="navbar-brand">
            <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>

        <div id="navbarBasicExample" class="navbar-menu">
            <div class="navbar-start">
                <a class="navbar-item" target="_blank" href="https://parzibyte.me/blog/2022/09/30/plugin-impresoras-termicas-version-3/">
                    Docs
                </a>

                <a target="_blank" class="navbar-item" href="https://github.com/parzibyte/plugin-impresora-termica-v3/releases/tag/3.2.1">
                    Download
                </a>

                <div class="navbar-item has-dropdown is-hoverable">
                    <a class="navbar-link">
                        Examples
                    </a>
                    <div class="navbar-dropdown">                            <a href="accented-text.html" class="navbar-item">Print diacritic text (spanish text)</a>
                                                    <a href="barcode.html" class="navbar-item">Print barcodes</a>
                                                    <a href="cash_drawer.html" class="navbar-item">Open cash drawer</a>
                                                    <a href="capabilities.html" class="navbar-item">ESC POS plugin capabilities</a>
                                                    <a href="custom_character.html" class="navbar-item">Define custom character</a>
                                                    <a href="hello_world.html" class="navbar-item">Hello thermal printer</a>
                                                    <a href="images.html" class="navbar-item">Print URL, local or base64 images</a>
                                                    <a href="license.html" class="navbar-item">License use</a>
                                                    <a href="qr.html" class="navbar-item">Create and print QR codes</a>
                                                    <a href="lan.html" class="navbar-item">Print on LAN by using plugin as a proxy</a>
                                                    <a href="tabulated.html" class="navbar-item">Print tabulated data</a>
                                                    <a href="html.html" class="navbar-item">Print from HTML</a>
                                            </div>
                </div>
                <div class="navbar-item has-dropdown is-hoverable">
                    <a class="navbar-link">
                        Connectors
                    </a>
                    <div class="navbar-dropdown">
                        <a target="_blank" href="https://parzibyte.me/blog/2023/03/29/imprimir-impresora-termica-c-sharp-visual-studio/" class="navbar-item">
                            C# (Visual Studio o Mono)
                        </a>
                        <a target="_blank" href="https://parzibyte.me/blog/2022/09/30/comunicar-javascript-impresora-termica-usando-plugin-v3/" class="navbar-item">
                            JavaScript
                        </a>
                        <a target="_blank" href="https://parzibyte.me/blog/2022/10/04/imprimir-impresora-termica-java/" class="navbar-item">
                            Java
                        </a>
                        <a target="_blank" href="https://parzibyte.me/blog/2022/09/30/conectar-impresora-termica-python-imprimir-tickets-usando-plugin-v3/" class="navbar-item">
                            Python
                        </a>
                        <a target="_blank" href="https://parzibyte.me/blog/2023/06/26/impresora-termica-php-plugin/" class="navbar-item">
                            PHP
                        </a>
                        <a target="_blank" href="https://parzibyte.me/blog/2023/06/27/impresora-termica-node-js/" class="navbar-item">
                            Node.js
                        </a>
                        <hr class="navbar-divider">
                        <a class="navbar-item" href="https://parzibyte.me/blog/2022/11/30/crear-conector-plugin-impresora-termica/">
                            Learn how to create a new connector
                        </a>
                        <a class="navbar-item" href="https://parzibyte.me/#contacto">
                            Request connector
                        </a>
                    </div>
                </div>
                <div class="navbar-item has-dropdown is-hoverable">
                    <a class="navbar-link">
                        Help
                    </a>
                    <div class="navbar-dropdown">
                        <a target="_blank" href="https://parzibyte.me/blog/en/2019/10/13/how-to-share-printer-windows/" class="navbar-item">
                            Setup printer
                        </a>
                        <a target="_blank" href="https://github.com/parzibyte/plugin-impresora-termica-v3/releases/tag/3.2.1" class="navbar-item">
                            Download plugin
                        </a>
                        <a target="_blank" href="errors.html" class="navbar-item">
                            Error handling
                        </a>
                        <a target="_blank" href="https://www.youtube.com/playlist?list=PLat1rFhO_zZi1e8VyLJuU1UTDqIN4H_5i" class="navbar-item">
                            YouTube guides
                        </a>
                        <a target="_blank" href="https://github.com/parzibyte/ejemplos-javascript-plugin-v3/" class="navbar-item">
                            Examples source code
                        </a>
                    </div>
                </div>
            </div>

            <div class="navbar-end">
                <div class="navbar-item">
                    <div class="buttons">
                        <a href="https://parzibyte.me/apps/ticket-designer/#/first-steps" class="button is-danger">
                            <strong>ESC POS designer</strong>
                        </a>
                        <a href="https://parzibyte.me/blog/2022/10/02/contratar-licencia-para-plugin-impresora-termica-v3/" class="button is-primary">
                            <strong>Buy a license</strong>
                        </a>
                        <a class="button is-light" href="https://parzibyte.me/blog/2022/11/01/plugin-gratuito-impresoras-termicas-bluetooth-android/">
                            Android version
                        </a>
                        <a href="../" class="button is-success">
                            ðŸ‡ªðŸ‡¸&nbsp;
                            EspaÃ±ol
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>
    <div class="container">
        <div class="columns">
            <div class="column">
                <div class="notification is-warning">
                    Remember that, when printing from the browser, you must use
                    https, localhost o 127.0.0.1.
                    It won't work on sites without HTTPS nor localhost with a different port than 80 (which is the default ) nor IP.
                    If you want to print on the local area network, check:<a href="./lan.html">How to print on a network printer</a>
                    <br>
                    <strong>If the examples are not working, make sure that:</strong>
                    <br>
                    <ol>
                        <li>The plugin is running in the background. Download it from: <a href="https://github.com/parzibyte/plugin-impresora-termica-v3/releases/tag/3.2.1">https://github.com/parzibyte/plugin-impresora-termica-v3/releases/tag/3.2.1</a></li>
                        <li>
                            Your printer is shared and has a friendly name as indicated in:
                            <a href="https://parzibyte.me/blog/en/2019/10/13/how-to-share-printer-windows/">https://parzibyte.me/blog/en/2019/10/13/how-to-share-printer-windows/</a>
                        </li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="columns">
            <div class="column">
                <h1 class="is-size-1">Open cash drawer</h1>
            </div>
        </div>
        <div class="columns">
            <div class="column">
                <div class="field">
                    <div class="select is-rounded">
                        <select id="listaDeImpresoras"></select>
                    </div>
                </div>
                <div class="notification is-info">I suggest to leave the inputs untouched, but if the default values
                    do not work for you, then you can change them and test. They are based on the docs published at:
                    <a
                        href="https://gist.github.com/parzibyte/2f36655ef9d6ea8e6de73c6e09bbc735#file-documentacion-txt">https://gist.github.com/parzibyte/2f36655ef9d6ea8e6de73c6e09bbc735#file-documentacion-txt</a>
                </div>
                <div class="field">
                    <label class="label">Pin</label>
                    <div class="control">
                        <input id="pin" value="48" class="input" type="number" placeholder="Pin">
                    </div>
                </div>
                <div class="field">
                    <label class="label">On time</label>
                    <div class="control">
                        <input id="tiempoEncendido" value="60" class="input" type="number"
                            placeholder="On time">
                    </div>
                </div>
                <div class="field">
                    <label class="label">Off time</label>
                    <div class="control">
                        <input id="tiempoApagado" value="120" class="input" type="number" placeholder="Off time">
                    </div>
                </div>
                <button id="btnImprimir" class="button is-success mt-2">Print</button>
            </div>
            <div class="column">
                <div class="notification is-warning">
                    <p>
                        When printing, the cash drawer should be opened
                    </p>
                </div>
            </div>
        </div>
    </div>
    <script>

        const obtenerListaDeImpresoras = async () => {
            return await ConectorPluginV3.obtenerImpresoras();
        }
        const URLPlugin = "http://localhost:8000"
        const $listaDeImpresoras = document.querySelector("#listaDeImpresoras"),
            $btnImprimir = document.querySelector("#btnImprimir"),
            $pin = document.querySelector("#pin"),
            $tiempoEncendido = document.querySelector("#tiempoEncendido"),
            $tiempoApagado = document.querySelector("#tiempoApagado");

        const init = async () => {
            const impresoras = await ConectorPluginV3.obtenerImpresoras(URLPlugin);
            for (const impresora of impresoras) {
                $listaDeImpresoras.appendChild(Object.assign(document.createElement("option"), {
                    value: impresora,
                    text: impresora,
                }));
            }
            $btnImprimir.addEventListener("click", () => {
                const nombreImpresora = $listaDeImpresoras.value;
                if (!nombreImpresora) {
                    return alert("Please select a printer. If there's none, make sure you have shared as indicated in: https://parzibyte.me/blog/en/2019/10/13/how-to-share-printer-windows/")
                }
                abrirCajon(nombreImpresora);
            });
        }


        const abrirCajon = async (nombreImpresora) => {
            const conector = new ConectorPluginV3(URLPlugin);
            conector.Iniciar();
            conector.Pulso(parseInt($pin.value), parseInt($tiempoEncendido.value), parseInt($tiempoApagado.value));
            const respuesta = await conector
                .imprimirEn(nombreImpresora);
            if (respuesta === true) {
                alert("Printed successfully");
            } else {
                alert("Error: " + respuesta);
            }
        }
        init();
    </script><div class="columns has-text-centered">
    <div class="column">
        <p>
            Orgullosamente presentado por <a href="https://parzibyte.me/blog">Parzibyte</a>.
            <strong>This site is open source. You can</strong>
            <a href="https://github.com/parzibyte/ejemplos-javascript-plugin-v3/">see the source code on GitHub</a>
        </p>
    </div>
</div>
<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", () => {
        const boton = document.querySelector(".navbar-burger");
        const menu = document.querySelector(".navbar-menu");
        boton.onclick = () => {
            menu.classList.toggle("is-active");
            boton.classList.toggle("is-active");
        };
    });
</script>
</body>

</html>